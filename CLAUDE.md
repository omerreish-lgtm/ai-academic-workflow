# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

---

## ðŸ“‹ User Context

**For personalized interaction guidelines, cognitive profile, current academic context, and AI agent architecture, see [`user_context.md`](user_context.md).**

The `user_context.md` file contains:
- Cognitive profile and communication preferences
- Current academic workload and learning patterns
- AI Skills Architecture (5-tier system)
- Mode detection and emergency protocols
- Context engineering principles
- Success metrics and feedback loops

---

## Development Environment

This directory contains TypeScript-based Model Context Protocol (MCP) server projects. The main projects are:

- **monday** - A basic MCP server demonstrating notes functionality
- **notebooklm-to-claude-mcp** - A read-only MCP server connecting NotebookLM to Claude.ai via browser automation

## Common Commands

### monday MCP Server

Located in `~/monday/`

**Build:**
```bash
cd ~/monday && npm run build
```

**Development (watch mode):**
```bash
cd ~/monday && npm run watch
```

**Test with MCP Inspector:**
```bash
cd ~/monday && npm run inspector
```

### notebooklm-to-claude-mcp Server

Located in `~/notebooklm-to-claude-mcp/`

**Build:**
```bash
cd ~/notebooklm-to-claude-mcp && npm run build
```

**Start server:**
```bash
cd ~/notebooklm-to-claude-mcp && npm start
```

**Development mode:**
```bash
cd ~/notebooklm-to-claude-mcp && npm run dev
```

**Watch mode:**
```bash
cd ~/notebooklm-to-claude-mcp && npm run watch
```

## Architecture

### monday MCP Server

Simple demonstration server implementing:
- **Resources**: Text notes accessible via `note://` URIs
- **Tools**: `create_note` for creating new notes
- **Prompts**: `summarize_notes` for generating note summaries

Source structure:
- `src/index.ts` - Main server implementation
- `build/` - Compiled output (generated by TypeScript)

### notebooklm-to-claude-mcp Server

Browser automation-based MCP server providing read-only access to NotebookLM notebooks.

Source structure:
- `src/index.ts` - MCP server entry point
- `src/auth.ts` - Google OAuth and session persistence
- `src/notebooklm-scraper.ts` - Puppeteer-based browser automation
- `src/mcp-tools.ts` - Tool definitions (list_notebooks, get_notebook, read_notebook_content, search_notebooks, get_notebook_sources)
- `src/config.ts` - Configuration management from .env
- `src/types.ts` - TypeScript type definitions
- `dist/` - Compiled JavaScript output
- `sessions/` - Saved browser sessions for authentication persistence

**Key architectural patterns:**
- Uses Puppeteer for browser automation (headless by default)
- Session persistence via cookies saved to `sessions/` directory
- Environment-based configuration (.env file)
- Read-only operations only - no write capabilities

## TypeScript Configuration

Both projects use:
- **Target**: ES2022
- **Module**: Node16 (monday) or ES2022 (notebooklm-to-claude-mcp)
- **Strict mode**: Enabled
- **Output**: `build/` (monday) or `dist/` (notebooklm-to-claude-mcp)

## MCP Server Integration

Both servers are designed to be configured in Claude Desktop's MCP settings:

**macOS config location:** `~/Library/Application Support/Claude/claude_desktop_config.json`

Example configuration format:
```json
{
  "mcpServers": {
    "monday": {
      "command": "/Users/omerreish/monday/build/index.js"
    },
    "notebooklm": {
      "command": "node",
      "args": ["/Users/omerreish/notebooklm-to-claude-mcp/dist/index.js"],
      "env": {
        "HEADLESS": "true"
      }
    }
  }
}
```

## Environment Setup

For **notebooklm-to-claude-mcp**, copy `.env.example` to `.env` and configure:
```env
HEADLESS=true          # Set to false to see browser during development
BROWSER_TIMEOUT=30000  # Adjust timeout as needed
```
